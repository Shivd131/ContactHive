<aside
  data-th-fragment="sidebar"
  id="logo-sidebar"
  aria-label="Sidebar"
  class="fixed inset-y-0 left-0 z-50 w-64 transform -translate-x-full sm:translate-x-0 transition-all duration-300 ease-in-out bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700"
>
  <div class="flex flex-col h-full">
    <div
      class="flex items-center justify-between h-[4.5rem] px-4 border-b border-gray-200 dark:border-gray-700"
    >
      <a href="#" class="flex items-center">
        <svg
          class="w-8 h-8 mr-2 text-blue-600"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM14 11a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z"
          />
        </svg>
        <span class="text-xl font-semibold dark:text-white">Menu</span>
      </a>
      <button
        id="closeSidebar"
        class="sm:hidden text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          ></path>
        </svg>
      </button>
    </div>
    <nav class="flex-1 px-2 py-4 overflow-y-auto">
      <a
        data-th-href="@{/user/dashboard}"
        class="flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded-md dark:bg-gray-700 dark:text-gray-200"
      >
        <svg
          class="w-5 h-5 mr-2"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"
          ></path>
        </svg>
        Dashboard
      </a>
      <a
        data-th-href="@{/user/profile}"
        class="flex items-center px-4 py-2 mt-2 text-gray-600 rounded-md dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"
      >
        <svg
          class="w-5 h-5 mr-2"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
            clip-rule="evenodd"
          ></path>
        </svg>
        Profile
      </a>
      <a
        data-th-href="@{/user/contacts/add}"
        class="flex items-center px-4 py-2 mt-2 text-gray-600 rounded-md dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"
      >
        <svg
          class="w-5 h-5 mr-2"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"
          ></path>
        </svg>
        Add Contact
      </a>
      <a
        data-th-href="@{/user/contacts}"
        class="flex items-center px-4 py-2 mt-2 text-gray-600 rounded-md dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"
      >
        <svg
          class="w-5 h-5 mr-2"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"
          ></path>
        </svg>
        Contacts
      </a>
    </nav>
  </div>
  <script>
    // Sidebar toggle functionality
    const openSidebarBtn = document.getElementById("open-sidebar");
    const sidebar = document.getElementById("logo-sidebar");

    // Toggle Sidebar
    openSidebarBtn.addEventListener("click", () => {
      sidebar.classList.toggle("hidden"); // Shows or hides the sidebar
    });

    // Dark Mode Toggle
    const darkModeToggleBtn = document.getElementById("dark-mode-toggle");

    darkModeToggleBtn.addEventListener("click", () => {
      let darkMode = localStorage.getItem("darkMode") === "true";
      darkMode = !darkMode;
      localStorage.setItem("darkMode", darkMode);
      document.body.classList.toggle("dark", darkMode);
    });

    // User Menu Toggle
    const userMenuBtn = document.getElementById("user-menu-button");
    const userMenuDropdown = document.getElementById("user-menu-dropdown");

    // Toggle User Menu Dropdown
    userMenuBtn.addEventListener("click", () => {
      userMenuDropdown.classList.toggle("hidden"); // Shows or hides the dropdown
    });

    // Mobile Menu Toggle
    const mobileMenuToggleBtn = document.getElementById("mobile-menu-toggle");
    const mobileMenu = document.getElementById("navbar-cta");

    // Toggle Mobile Menu
    mobileMenuToggleBtn.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden"); // Shows or hides the mobile menu
    });

    // Optional: Close mobile menu when clicking outside
    document.addEventListener("click", (event) => {
      if (
        !mobileMenu.contains(event.target) &&
        !mobileMenuToggleBtn.contains(event.target)
      ) {
        mobileMenu.classList.add("hidden");
      }

      if (
        !userMenuDropdown.contains(event.target) &&
        !userMenuBtn.contains(event.target)
      ) {
        userMenuDropdown.classList.add("hidden");
      }
    });
  </script>
</aside>
